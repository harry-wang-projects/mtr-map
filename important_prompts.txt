I want to make an moving map tracking the trains on Hong Kong's MTR system. To start, plot out the stations of the MTR's island line using dots and connect them with lines.

Plot it on a real map with correct coordinates. No need to label the station names. For now, don't make a difference between the interchange statinos and regular stations.

Next, I'm gonna add a moving train system. To do this, I'm gonna use "ticks" to simulate time, with each "tick" representing one second in real life. Every fixed amount of time, a train should spawn from one end of the line and travel across to the other side. The amount of time spent at each point (time between stations and time stopping at a station)should be editable by me. Once the train at the front goes to the other end and comes back, the trains should stop spawning and should keep moving around the line.

Due to performance issues, I need a major overhaul. From now, the generation and playing of the animation will be seperate steps. In the generation stage, the code will generate an array storing the positions of each train every second for a fixed period of time. During the playing stage, the code will play the moving positions. 
Also, since the amount of time needed to move/dwell at each stop is fixed, make it so that the trains spawn all in the beginning, spaced apart by x seconds where x is the train frequency. Make a function to calculate a train's position based on the time and offset and spawn the trains into their positions in the beginning. 